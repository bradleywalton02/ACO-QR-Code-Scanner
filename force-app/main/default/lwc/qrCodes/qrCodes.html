<template>
    <div class="slds-text-align_center">
        <span class="slds-text-heading_large">QR Code Scanner</span>
    </div>

    <!-- Static help text -->
    <div class="slds-text-align_center slds-text-color_weak slds-m-vertical_large">
        Click <strong>Scan QR Code</strong> to open a QR Code scanner camera view. Position a
        QR Code in the scanner view to scan it.
    </div>

    <!-- After a QR Code is successfully scanned, 
         its value is displayed here: -->
    <div class="slds-var-m-vertical_large slds-var-p-vertical_medium 
         slds-text-align_center slds-border_top slds-border_bottom">
        Client ID and Name:<br/>
        <span class="slds-text-heading_small">{clientid}<br/>{name}</span>
    </div>

    <lightning-datatable
        key-field="Id"
        data={dateFP.data}
        columns={columns1}
    >
    </lightning-datatable>

    <lightning-datatable
        key-field="Id"
        data={dateHoliday.data}
        columns={columns2}
    >
    </lightning-datatable>

    <!-- The click-to-scan button;
         Disabled if QR Code Scanner isn't available -->
    <div class="slds-align_absolute-center slds-m-vertical_large">
        <lightning-button
            variant="brand"
            class="slds-var-m-left_x-small"
            disabled={scanButtonDisabled}
            icon-name="utility:scan"
            label="Scan QR Code"
            title="Open a camera view and look for a QR Code to scan"
            onclick={handleBeginScanClick}>
        </lightning-button>
    </div>
    <template if:true={scannedBarcode}>
        <template if:false={foodPantryAssistanceCreated}>
            <div class="slds-align_absolute-center slds-m-vertical_large">
                <lightning-button
                    variant="brand"
                    class="slds-var-m-left_x-small"
                    icon-name="action:new"
                    label="Create Food Pantry Assistance"
                    title="Create Assistance for Contact"
                    onclick={handleCreateFoodPantryAssistance}>
                </lightning-button>
            </div>
        </template>
    </template>
    <template if:true={foodPantryAssistanceCreated}>
        <div class="slds-text-align_center">
            <span class="slds-text-heading_large">Food Pantry Assistance Created</span>
        </div>
    </template>
    <br><br><br>
    <template if:true={scannedBarcode}>
        <template if:false={holidayFoodAssistanceCreated}>
            <div class="slds-align_absolute-center slds-m-vertical_large">
                <lightning-button
                    variant="brand"
                    class="slds-var-m-left_x-small"
                    icon-name="action:new"
                    label="Create Holiday Food Assistance"
                    title="Create Assistance for Contact"
                    onclick={handleCreateHolidayFoodAssistance}>
                </lightning-button>
            </div>
        </template>
    </template>
    <template if:true={holidayFoodAssistanceCreated}>
        <div class="slds-text-align_center">
            <span class="slds-text-heading_large">Holiday Food Assistance Created</span>
        </div>
    </template>
    <br><br><br>
    <template if:true={scannedBarcode}>
        <template if:false={northPoleAssistanceUpdated}>
            <div class="slds-align_absolute-center slds-m-vertical_large">
                <lightning-button
                    variant="brand"
                    class="slds-var-m-left_x-small"
                    icon-name="action:new"
                    label="North Pole Check In"
                    title="Update Assistance for Contact"
                    onclick={handleNorthPoleCheckIn}>
                </lightning-button>
            </div>
        </template>
    </template>
    <template if:true={northPoleAssistanceUpdated}>
        <div class="slds-text-align_center">
            <span class="slds-text-heading_large">North Pole Checked In</span>
        </div>
    </template>
</template>